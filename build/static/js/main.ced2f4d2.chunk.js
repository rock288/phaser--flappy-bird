(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{19:function(e,t,i){},20:function(e,t,i){"use strict";i.r(t);var n=i(10),s=i.n(n),a=i(12),c=i.n(a),r=i(9);var o=function(){return Object(r.jsx)("div",{})},h=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,21)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),n(e),s(e),a(e),c(e)}))},u=i(8),l=i(0),p=i.n(l),f=i(7),d=i(2),y=i(3),g=i(6),v=i(1),b=i(5),O=i(4),S=function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e,n){var s;return Object(d.a)(this,i),(s=t.call(this,e)).config=n,s.screenCenter=[n.width/2,n.height/2],s.fontSize=23,s.lineHeight=42,s.fontOptions={fontSize:"".concat(s.fontSize,"px"),fill:"#fff"},s}return Object(y.a)(i,[{key:"create",value:function(){var e=this;(this.add.image(0,0,"sky").setOrigin(0),this.config.canGoBack)&&this.add.image(this.config.width-10,this.config.height-10,"back").setOrigin(1).setScale(2).setInteractive().on("pointerup",(function(){e.scene.start("MenuScene")}))}},{key:"createMenu",value:function(e,t){var i=this,n=-30;e.forEach((function(e){var s,a=[i.screenCenter[0],i.screenCenter[1]+n];n+=i.lineHeight,e.textGO=(s=i.add).text.apply(s,a.concat([e.text,i.fontOptions])).setOrigin(.5,1),t(e)}))}}]),i}(p.a.Scene),m=function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,"PlayScene",e)).bird=null,n.pipes=null,n.flapVelocity=200,n.pipeVerticalDistanceRange=[150,250],n.pipeHorizontalDistanceRange=[350,500],n.score=0,n.bestScore=0,n.scoreText="",n.bestScoreText="",n.isPaused=!1,n.difficulties={easy:{pipeHorizontalDistanceRange:[300,350],pipeVerticalDistanceRange:[150,200]},normal:{pipeHorizontalDistanceRange:[280,330],pipeVerticalDistanceRange:[140,190]},hard:{pipeHorizontalDistanceRange:[250,310],pipeVerticalDistanceRange:[85,120]},titan:{pipeHorizontalDistanceRange:[230,290],pipeVerticalDistanceRange:[50,100]}},n}return Object(y.a)(i,[{key:"preload",value:function(){this.load.image("sky","assets/sky.png"),this.load.spritesheet("bird","assets/birdSprite.png",{frameWidth:16,frameHeight:16}),this.load.image("pipe","assets/pipe.png"),this.load.image("pause","assets/pause.png")}},{key:"create",value:function(){this.currentDifficulty="easy",Object(g.a)(Object(v.a)(i.prototype),"create",this).call(this),this.createBird(),this.createPipes(),this.createColliders(),this.createScore(),this.createPause(),this.handleInput(),this.listenToEvents(),this.anims.create({key:"fly",frames:this.anims.generateFrameNumbers("bird",{start:8,end:15}),frameRate:8,repeat:-1}),this.bird.play("fly")}},{key:"update",value:function(){this.checkGameStatus(),this.recyclePipes()}},{key:"listenToEvents",value:function(){var e=this;this.pauseEvent||(this.pauseEvent=this.events.on("resume",(function(){var t;e.initialTime=3,e.countDownText=(t=e.add).text.apply(t,Object(f.a)(e.screenCenter).concat(["Fly in: "+e.initialTime,e.fontOptions])),e.timeEvent=e.time.addEvent({delay:1e3,callback:e.countDown,callbackScope:e,loop:!0})})))}},{key:"countDown",value:function(){this.initialTime--,this.countDownText.setText("Fly in: "+this.initialTime),this.initialTime<=0&&(this.isPaused=!1,this.countDownText.setText(""),this.physics.resume(),this.timeEvent.remove())}},{key:"checkGameStatus",value:function(){(this.bird.getBounds().bottom>=this.config.height||this.bird.y<=0)&&this.gameOver()}},{key:"createBG",value:function(){this.add.image(0,0,"sky").setOrigin(0,0)}},{key:"createBird",value:function(){this.bird=this.physics.add.sprite(this.config.startPosition.x,this.config.startPosition.y,"bird").setFlipX(!0).setOrigin(0,0).setScale(2),this.bird.setBodySize(this.bird.width,this.bird.height-6),this.bird.body.gravity.y=400,this.bird.setCollideWorldBounds(!0)}},{key:"createPipes",value:function(){this.pipes=this.physics.add.group();for(var e=0;e<4;e++){var t=this.pipes.create(0,0,"pipe").setImmovable(!0).setOrigin(0,1),i=this.pipes.create(0,0,"pipe").setImmovable(!0).setOrigin(0,0);this.placePipe(t,i)}this.pipes.setVelocityX(-200)}},{key:"createScore",value:function(){this.score=0,this.scoreText=this.add.text(16,16,"Score: ".concat(0),{fontSize:"23px",fill:"#000"});var e=localStorage.getItem("bestScore");this.bestScoreText=this.add.text(16,45,"Best score: ".concat(e||0),{fontSize:"14px",fill:"#000"})}},{key:"createPause",value:function(){var e=this;this.isPaused=!1,this.add.image(this.config.width-10,this.config.height-10,"pause").setInteractive().setScale(3).setOrigin(1).on("pointerdown",(function(){e.isPaused=!0,e.physics.pause(),e.scene.pause(),e.scene.launch("PauseScene")}))}},{key:"createColliders",value:function(){this.physics.add.collider(this.bird,this.pipes,this.gameOver,null,this)}},{key:"handleInput",value:function(){this.input.on("pointerdown",this.flap,this),this.input.keyboard.on("keydown_SPACE",this.flap,this)}},{key:"flap",value:function(){this.isPaused||(this.bird.body.velocity.y=-this.flapVelocity)}},{key:"placePipe",value:function(e,t){var i,n,s=this.difficulties[this.currentDifficulty],a=this.getRightMostPipe(),c=(i=p.a.Math).Between.apply(i,Object(f.a)(s.pipeVerticalDistanceRange)),r=(n=p.a.Math).Between.apply(n,Object(f.a)(s.pipeHorizontalDistanceRange)),o=p.a.Math.Between(20,this.config.height-20-c);e.x=a+r,e.y=o,t.x=e.x,t.y=e.y+c}},{key:"getRightMostPipe",value:function(){var e=0;return this.pipes.getChildren().forEach((function(t){e=Math.max(t.x,e)})),e}},{key:"saveBestScore",value:function(){var e=localStorage.getItem("bestScore"),t=e&&parseInt(e,10);(!t||this.score>t)&&localStorage.setItem("bestScore",this.score)}},{key:"gameOver",value:function(){var e=this;this.physics.pause(),this.bird.setTint(15616036),this.saveBestScore(),this.time.addEvent({delay:1e3,callback:function(){e.scene.restart()},loop:!1})}},{key:"recyclePipes",value:function(){var e=this,t=[];this.pipes.getChildren().forEach((function(i){i.getBounds().right<=0&&(t.push(i),2===t.length&&(e.placePipe.apply(e,t),e.increaseScore(),e.saveBestScore(),e.increaseDifficulty()))}))}},{key:"increaseDifficulty",value:function(){30===this.score&&(this.currentDifficulty="normal"),60===this.score&&(this.currentDifficulty="hard"),80===this.score&&(this.currentDifficulty="titan")}},{key:"increaseScore",value:function(){this.score++,this.scoreText.setText("Score: ".concat(this.score))}}]),i}(S),k=function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,"MenuScene",e)).setupMenuEvents=function(e){var t=e.textGO;t.setInteractive(),t.on("pointerover",(function(){t.setStyle({fill:"#ff0"})})),t.on("pointerout",(function(){t.setStyle({fill:"#fff"})})),t.on("pointerup",(function(){e&&n.scene.start(e.scene)}))},n.menu=[{scene:"PlayScene",text:"Play"},{scene:"ScoreScene",text:"Score"}],n}return Object(y.a)(i,[{key:"create",value:function(){Object(g.a)(Object(v.a)(i.prototype),"create",this).call(this),this.createMenu(this.menu,this.setupMenuEvents)}}]),i}(S),j=[function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e){return Object(d.a)(this,i),t.call(this,"PreloadScene")}return Object(y.a)(i,[{key:"preload",value:function(){this.load.image("sky","assets/sky.png"),this.load.image("pipe","assets/pipe.png"),this.load.image("pause","assets/pause.png"),this.load.image("back","assets/back.png")}},{key:"create",value:function(){this.add.image(0,0,"sky").setOrigin(0),this.scene.start("MenuScene")}}]),i}(p.a.Scene),k,function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e){return Object(d.a)(this,i),t.call(this,"ScoreScene",Object(u.a)(Object(u.a)({},e),{},{canGoBack:!0}))}return Object(y.a)(i,[{key:"create",value:function(){var e;Object(g.a)(Object(v.a)(i.prototype),"create",this).call(this);var t=localStorage.getItem("bestScore");(e=this.add).text.apply(e,Object(f.a)(this.screenCenter).concat(["Best Score: ".concat(t||0),this.fontOptions])).setOrigin(.5)}}]),i}(S),m,function(e){Object(b.a)(i,e);var t=Object(O.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,"PauseScene",e)).setupMenuEvents=function(e){var t=e.textGO;t.setInteractive(),t.on("pointerover",(function(){t.setStyle({fill:"#ff0"})})),t.on("pointerout",(function(){t.setStyle({fill:"#fff"})})),t.on("pointerup",(function(){e.scene&&"Continue"===e.text?(n.scene.stop(),n.scene.resume(e.scene)):(n.scene.stop("PlayScene"),n.scene.stop(e.scene))}))},n.menu=[{scene:"PlayScene",text:"Continue"},{scene:"MenuScene",text:"Exit"}],n}return Object(y.a)(i,[{key:"create",value:function(){Object(g.a)(Object(v.a)(i.prototype),"create",this).call(this),this.createMenu(this.menu,this.setupMenuEvents)}}]),i}(S)],x={width:400,height:600,startPosition:{x:40,y:300}},P=Object(u.a)(Object(u.a)({type:p.a.AUTO},x),{},{pixelArt:!0,physics:{default:"arcade",arcade:{}},scene:j.map((function(e){return new e(x)}))});new p.a.Game(P);i(19);c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(o,{})}),document.getElementById("root")),h()}},[[20,1,2]]]);
//# sourceMappingURL=main.ced2f4d2.chunk.js.map